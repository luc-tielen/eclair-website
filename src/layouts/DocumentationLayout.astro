---
import LeftSideBar from "../components/LeftSideBar.astro";
import RightSideBar from "../components/RightSideBar.astro";
import BaseLayout from "./BaseLayout.astro";
import { Icon } from "astro-icon";

const { frontmatter, headings } = Astro.props;

---

<BaseLayout title={frontmatter.title}>
  <div class="flex flex-col min-h-screen">
    <header class="pt-2">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="mx-auto max-w-3xl flex flex-col">
          <nav class="flex justify-between items-center">
            <div class="flex items-center gap-8 font-medium uppercase">
              <a class="hover:underline" href="/">Home</a>
              <a class="hover:underline" href="/docs">Docs</a>
              <a class="hover:underline" href="/performance">Benchmarks</a>
            </div>
            <div class="flex gap-2">
              <a href="https://github.com/luc-tielen/eclair-lang">
                <Icon class="w-8 h-8" name="mdi:github"/>
              </a>
              <a href="https://discord.gg/mC2arUrxKg">
                <Icon class="w-8 h-8" name="ic:baseline-discord"/>
              </a>
            </div>
          </nav>
        </div>
      </div>
    </header>
    <div class="flex-grow">
      <main>
        <div class="flex flex-row pt-8">
          <LeftSideBar />
          <div class="flex-grow px-12 flex flex-col items-center">
            <article class="prose prose-code:before:hidden prose-code:after:hidden">
              <h1 id="overview">{frontmatter.title}</h1>
              <slot/>
            </article>
            <footer class="pt-24 pb-2">
              <span class="flex items-center justify-center text-sm">&copy; 2021-{new Date().getFullYear()} Luc Tielen</span>
            </footer>
          </div>
          <RightSideBar headings={headings} />
        </div>
      </main>
    </div>
  </div>
</BaseLayout>
